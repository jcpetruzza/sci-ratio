<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.SciRatio</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-SciRatio.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">sci-ratio-0.2.0.0: Rational numbers in scientific notation.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Stability</th><td>experimental </td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Data.SciRatio</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">The <code>SciRatio</code> type</a></li><li><a href="#g:2">Specialized functions</a></li><li><a href="#g:3">Miscellaneous utilities</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc empty">&nbsp;</div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:SciRatio">SciRatio</a> a b</li><li class="src short"><span class="keyword">type</span> <a href="#t:SciRational">SciRational</a> = <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Rational">Rational</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a></li><li class="src short"><a href="#v:.-94-">(.^)</a> :: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b) =&gt; a -&gt; b -&gt; <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b</li><li class="src short"><a href="#v:fracSignificand">fracSignificand</a> ::  <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b -&gt; a</li><li class="src short"><a href="#v:base10Exponent">base10Exponent</a> ::  <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b -&gt; b</li><li class="src short"><a href="#v:-94--33-">(^!)</a> :: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> c) =&gt; <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b -&gt; c -&gt; <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b</li><li class="src short"><a href="#v:-94--94--33-">(^^!)</a> :: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> c) =&gt; <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b -&gt; c -&gt; <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b</li><li class="src short"><a href="#v:fromSciRatio">fromSciRatio</a> :: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> c) =&gt; <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b -&gt; c</li><li class="src short"><a href="#v:intLog">intLog</a> :: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b) =&gt; a -&gt; a -&gt; (a, b)</li></ul></div><div id="interface"><h1 id="g:1">The <code><a href="Data-SciRatio.html#t:SciRatio">SciRatio</a></code> type</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:SciRatio" class="def">SciRatio</a> a b</p><div class="doc"><p>Represents a fractional number stored in scientific notation: a product
   of a fractional significand and an integral power of 10.</p><ul><li>The significand has type <code>a</code> and should be both <code><code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a></code></code> and
     <code><code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a></code></code>.  Although this could be a floating-point type, it is not
     recommended as floating-points use inexact arithmetic and strange bugs
     will occur as a result.</li><li>The exponent has type <code>b</code> and should be <code><code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a></code></code>.</li></ul><p><code><code><a href="Data-SciRatio.html#t:SciRatio">SciRatio</a></code></code> behaves in the same way as an ordinary <code><code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ratio.html#t:Ratio">Ratio</a></code></code>
   and supports the same operations.  The main property is that it is moxre
   efficient than <code><code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ratio.html#t:Ratio">Ratio</a></code></code> when the exponent is large:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>read &quot;(5 % 1) .^ 99999999&quot; :: SciRational   -- works fine
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>5e99999999                 :: Rational      -- takes forever
</code></strong></pre><p>Specialized functions are provided in cases where they can be implemented
   more efficiently than the default implementation.</p><p>The number is always stored in a unique, canonical form: the significand
   shall never contain factors of 2 and 5 simultaneously, and their
   multiplicities shall always be nonnegative.  (Note that here we treat the
   significand as a rational number factorized into a product of prime
   numbers with <em>integral</em> exponents.)</p><p><strong>Note</strong>: If inputs differ greatly in magnitude, <code>(<code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#v:-43-">+</a></code>)</code> and <code>(<code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#v:-45-">-</a></code>)</code> can
             be quite slow: complexity is linear with the absolute
             difference of the exponents.  Furthermore, the complexity of
             <code><code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#v:toRational">toRational</a></code></code> is linear with the magnitude of the exponent.
             These also apply to any functions that indirectly use these
             operations (including all operations in <code><code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:RealFrac">RealFrac</a></code></code> and
             <code><code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Enum">Enum</a></code></code>).</p></div><div class="subs instances"><p id="control.i:SciRatio" class="caption collapser" onclick="toggleSection('i:SciRatio')">Instances</p><div id="section.i:SciRatio" class="show"><table><tr><td class="src">(<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b) =&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Enum">Enum</a> (<a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> b) =&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Eq.html#t:Eq">Eq</a> (<a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b) =&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> (<a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b) =&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> (<a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> a) =&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> (<a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> b) =&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> (<a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b) =&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> (<a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b) =&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:RealFrac">RealFrac</a> (<a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> b) =&gt; <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> (<a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">(<a href="file:///usr/share/doc/haskell-hashable/html/Data-Hashable.html#t:Hashable">Hashable</a> a, <a href="file:///usr/share/doc/haskell-hashable/html/Data-Hashable.html#t:Hashable">Hashable</a> b) =&gt; <a href="file:///usr/share/doc/haskell-hashable/html/Data-Hashable.html#t:Hashable">Hashable</a> (<a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:SciRational" class="def">SciRational</a> = <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Rational">Rational</a> <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integer">Integer</a></p><div class="doc"><p>A specialization of <code><a href="Data-SciRatio.html#t:SciRatio">SciRatio</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:.-94-" class="def">(.^)</a> <span class="fixity">infixl 7</span><span class="rightedge"></span></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>significand</p></td></tr><tr><td class="src">-&gt; b</td><td class="doc"><p>exponent</p></td></tr><tr><td class="src">-&gt; <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Construct a number such that
   <code>significand .^ exponent == significand * 10 ^^ exponent</code>.</p></div></div><div class="top"><p class="src"><a name="v:fracSignificand" class="def">fracSignificand</a> ::  <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b -&gt; a</p><div class="doc"><p>Extract the fractional significand.</p></div></div><div class="top"><p class="src"><a name="v:base10Exponent" class="def">base10Exponent</a> ::  <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b -&gt; b</p><div class="doc"><p>Extract the base-10 exponent.</p></div></div><h1 id="g:2">Specialized functions</h1><div class="top"><p class="src"><a name="v:-94--33-" class="def">(^!)</a> :: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> c) =&gt; <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b -&gt; c -&gt; <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b <span class="fixity">infixr 8</span><span class="rightedge"></span></p><div class="doc"><p>Specialized, more efficient version of <code>(<code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#v:-94-">^</a></code>)</code>.</p></div></div><div class="top"><p class="src"><a name="v:-94--94--33-" class="def">(^^!)</a> :: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> c) =&gt; <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b -&gt; c -&gt; <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b <span class="fixity">infixr 8</span><span class="rightedge"></span></p><div class="doc"><p>Specialized, more efficient version of <code>(<code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#v:-94--94-">^^</a></code>)</code>.</p></div></div><div class="top"><p class="src"><a name="v:fromSciRatio" class="def">fromSciRatio</a> :: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Real">Real</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a> c) =&gt; <a href="Data-SciRatio.html#t:SciRatio">SciRatio</a> a b -&gt; c</p><div class="doc"><p>Convert into a <code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Fractional">Fractional</a></code> number.</p><p>This is similar to <code><a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#v:realToFrac">realToFrac</a></code> but much more efficient for large
   exponents.</p></div></div><h1 id="g:3">Miscellaneous utilities</h1><div class="top"><p class="src"><a name="v:intLog" class="def">intLog</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> a, <a href="file:///usr/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Integral">Integral</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>base</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>input integer</p></td></tr><tr><td class="src">-&gt; (a, b)</td><td class="doc"><p>significand and exponent</p></td></tr></table></div><div class="doc"><p>Extract the largest power of the given base that divides the input
   integer.  Returns the significand and exponent, satisfying:</p><pre>input_integer = significand * base ^ exponent</pre><ul><li>If the input integer is zero, then zeros are returned.</li><li>If the input integer is negative, the significand is negative.</li></ul><p>This is similar to computing the floored logarithm and its associated
   remainder.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>